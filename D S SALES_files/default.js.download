if(!Object.keys)Object.keys=function(o){if(o!==Object(o))
throw new TypeError('Object.keys called on a non-object');var k=[],p;for(p in o)
if(Object.prototype.hasOwnProperty.call(o,p))
k.push(p);return k;};if(!Object.entries)Object.entries=function(o){var p=Object.keys(o),i=p.length,k=new Array(i);while(i--)
k[i]=[p[i],o[p[i]]];return k;};if(!Array.prototype.every)Array.prototype.every=function(a,b,c,d){for(c=0,d=this;c<d.length;c++)
if(!a.call(b,d[c],c,d))
return!1;return!0};const urlBase64ToUint8Array=function(base64String){const padding='='.repeat((4-base64String.length%4)%4);const base64=(base64String+padding).replace(/\-/g,'+').replace(/_/g,'/');const rawData=window.atob(base64);const outputArray=new Uint8Array(rawData.length);for(let i=0;i<rawData.length;++i){outputArray[i]=rawData.charCodeAt(i);}
return outputArray;}
const getCircularReplacer=()=>{const seen=new WeakSet();return(key,value)=>{if(typeof value==="object"&&value!==null){if(seen.has(value)){return;}
seen.add(value);}
return value;}}
var _timeago=s=>{if(s<2)
return "a moment ago";const _t={'31536000':"{0} years",'21024000':"a year",'2592000':"{0} months",'1728000':"a month",'604800':"{0} weeks",'403200':"a week",'86400':"{0} days",'57600':"a day",'3600':"{0} hours",'2400':"a hour",'60':"{0} minutes",'40':"a minute",'1':"{0} seconds"};return Object.keys(_t).filter(k=>(s/k)>=1.5).reduce((obj,k)=>{return _t[k].replace('{0}',Math.abs(Math.round(s/k)))+' ago'},'');}
var _bytes=function(a,b=2){if(0===a)
return "0 Bytes";const c=0>b?0:b,d=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,d)).toFixed(c))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][d]};var range=function(start,end,step){var ret=[];if(!end){end=start;start=1;}
for(var i=start;i<end;i++)
ret.push(i);return ret;};var _filter=function(raw,allowed){return Object.keys(raw).filter(key=>allowed.includes(key)).reduce((obj,key)=>{obj[key]=raw[key];return obj;},{});};var _remove=function(raw,notallowed){return Object.keys(raw).filter(key=>!notallowed.includes(key)).reduce((obj,key)=>{obj[key]=raw[key];return obj;},{});};var _empty=function(raw){return Object.keys(raw).filter(k=>raw[k]!==null&&raw[k]!==undefined&&raw[k]!==''&&raw[k]!==Number.NaN).reduce((obj,k)=>{typeof raw[k]==='object'?Object.assign(obj,{[k]:_empty(raw[k])}):Object.assign(obj,{[k]:raw[k]});return obj;},{});};var slug=function(s){return s.toString().normalize('NFD').replace(/[\u0300-\u036f]/g,'').toLowerCase().trim().replace(/[^a-z0-9 ]/g,'').replace(/\s+/g,'-');};var titlecase=function(s){try{var w=s.replace(/([A-Z])/g," $1").split(" "),n='';for(i in w){n+=w[i].substring(0,1).toUpperCase()+w[i].slice(1)+" ";}
return n.trim();}catch(err){return s;}};var beacon=function(){var pixel=(pixel===undefined||typeof pixel!=='object')?{}:pixel;var data=new URLSearchParams({location:document.URL,event:'BEACON',etag:pixel.etag,time:performance.now()});if(pixel.etag)navigator.sendBeacon('/pixel.gif',data);};var escapeHtml=function(e){try{return e.replace(/[&<>"'\/]/g,function(s){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':'&quot;',"'":'&#39;',"/":'&#x2F;'}[s];});}catch(err){return e;}}
var dataBlob=(dataurl)=>{var arr=dataurl.split(','),mime=arr[0].match(/:(.*?);/)[1],bstr=atob(arr[1]),u8arr=[];for(var n=0;n<bstr.length;n++)u8arr.push(bstr.charCodeAt(n));return new Blob([new Uint8Array(u8arr)],{type:mime});};var dataBlobValue=(dataurl)=>{var arr=dataurl.split(',');return{payload:arr[1],mime:arr[0].match(/:(.*?);/)[1]};};var _html=function(raw){return Object.keys(raw).filter(k=>raw[k]!==null&&raw[k]!==undefined&&raw[k]!=='').reduce((obj,k)=>{typeof raw[k]==='object'?obj.push('<li><b>'+k+'</b> :'+_html(raw[k])+'</li>'):obj.push('<li><b>'+k+'</b> : <pre><code>'+escapeHtml(raw[k])+'</code></pre></li>');return obj;},['<ul>']).join('')+'</ul>';};var _serializeJson=(a)=>{var o=p={};a.forEach(e=>{var n=e.name.replace(/\[([^\]]+)?\]/g,',$1').split(',');if(n[0]){for(var i=0;i<n.length-1;i++){p=p[n[i]]=p[n[i]]||((n[i+1]===''||n[i+1]==='0')?[]:{});}
if(p.length!==undefined)p.push(e.value);else p[n[n.length-1]]=e.value;p=o;}});return o;};(function($){$.fn.toJSON=function(){var o={};var a=this.serializeArray();if(this.is(':checkbox:not(:checked)')){a.push({name:$(this).attr('name'),value:false})}
a.forEach((e)=>{if(o[e.name]){if(!o[e.name].push){o[e.name]=[o[e.name]];}
o[e.name].push(e.value||'');}else{o[e.name]=(e.name.includes('[]'))?[e.value]||['']:e.value||'';}});return o;}
$.fn.toXML=function(){var o=['<?xml version="1.0"?>'];o.push("<form>");this.serializeArray().forEach((e)=>{if(e.name){var p=document.createElement(e.name.replace('[]',''));var q=document.createTextNode(e.value||'');p.appendChild(q);o.push(p.outerHTML);}});o.push("</form>");return o.join('\n');}
$.fn.toHTML=function(){return _html(this)}
$.fn.b64encode=function(){try{return window.btoa(unescape(encodeURIComponent(this.val().trim())));}catch(e){return this.val().trim()}}
$.fn.b64decode=function(){try{return decodeURIComponent(escape(window.atob(this.val().trim())));}catch(e){return this.val().trim()}}
var sha512=function(message){var msgBuffer=new TextEncoder('utf-8').encode(message);var hashBuffer=crypto.subtle.digest('SHA-512',msgBuffer);var hashArray=Array.from(new Uint8Array(hashBuffer));var hashHex=hashArray.map(function(b){('00'+b.toString(16)).slice(-2)}).join('');return hashHex;};$.fn.inView=function(e){if(e===undefined)
e=true;var o=this[0].getBoundingClientRect();return(e)?((o.top<=(window.innerHeight||document.documentElement.clientHeight))&&((o.top+o.height)>=0)&&(o.left<=(window.innerWidth||document.documentElement.clientWidth))&&((o.left+o.width)>=0)):(o.top>=0&&o.left>=0&&o.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&o.right<=(window.innerWidth||document.documentElement.clientWidth));}
$(document).on('click','form .btn-next',function(){var p=$(this).closest('fieldset');var n=true;var pb=$(this).closest('form');p.find('.textarea-html .card-body').empty();p.find(':valid').each(function(){$(this).removeClass('is-invalid');});p.find(':invalid').each(function(){$(this).addClass('is-invalid');n=false;$(this).focus();return false;});if(n){p.fadeOut(400,function(){if(p.hasClass('ajax'))p.trigger('submit');else if(p.next().has('.form-review').length){p.next().find('.form-review').html(_html(pb.toJSON()));}
else if(p.next().has('.form-preview').length){pb.on('ajaxComplete',function(){pb.find('input[type=file]').each(function(){$(this).val('');});pb.find('input[type=file][data-type="blob"]').each(function(){$(this).removeAttr('data-blob').removeData('blob');});pb.find('.clone').remove();pb.find('.this-clone').find('input,select,textarea').each(function(){$(this).val('').removeAttr('required');});pb.replaceWith(function(){return pb.find('.form-preview').attr("src",pb.find('.form-preview').data("src"));});});pb.submit();}
pb.find('.form-wizard li[data-step='+$(this).data('step')+']').removeClass('active').removeClass('is-invalid').addClass('is-valid');$(this).next().fadeIn(function(){pb.find('.form-wizard li[data-step='+$(this).data('step')+']').addClass('active');scrollFormWidget(pb.find('.form-wizard-box'));});});}else{pb.find('.form-wizard li[data-step='+$(this).data('step')+']').addClass('is-invalid');pb.find('.form-wizard li[data-step='+p.data('step')+']').nextAll().removeClass('is-valid');}});$(document).on('click','form .btn-previous',function(){var pb=$(this).closest('form');$(this).closest('fieldset').fadeOut(400,function(){pb.find('.form-wizard li[data-step='+$(this).data('step')+']').removeClass('active');$(this).prev().fadeIn(function(){pb.find('.form-wizard li[data-step='+$(this).data('step')+']').addClass('active');scrollFormWidget(pb.find('.form-wizard-box'));});});});var scrollFormWidget=function(e){var active=e.find('.form-wizard > .active');if(active){var left=active.position().left+e.scrollLeft()-(e.width()/2)+(active.outerWidth()/2);e.animate({scrollLeft:left},'slow');}
$(window).trigger('onview');};$(document).on('click','.form-wizard li.is-valid',function(){var e=$(this);var n=true;var pb=e.closest('form');var p=pb.find('fieldset:visible');p.find('.textarea-html .card-body').empty();p.find(':valid').each(function(){$(this).removeClass('is-invalid');});p.find(':invalid').each(function(){$(this).addClass('is-invalid');n=false;$(this).focus();return false;});if(n){if(p.hasClass('ajax'))p.trigger('submit');p.fadeOut(400,function(){pb.find('.form-wizard li[data-step='+$(this).data('step')+']').addClass('is-valid').removeClass('active');pb.find('fieldset[data-step='+e.data('step')+']').fadeIn(function(){pb.find('.form-wizard li[data-step='+e.data('step')+']').addClass('active');scrollFormWidget(pb.find('.form-wizard-box'));});});}else{pb.find('.form-wizard li[data-step='+p.data('step')+']').removeClass('is-valid').addClass('is-invalid');pb.find('.form-wizard li[data-step='+p.data('step')+']').nextAll().removeClass('is-valid');}});$(document).on('click','.toolbar a',function(){var command=$(this).data('command');if(command=='p'||command=='h1'||command=='h2'||command=='h3'||command=='h4'||command=='h5'||command=='h6'){document.execCommand('formatBlock',false,command);}
if(command=='createlink'||command=='insertimage'){url=prompt('Enter the link here: ','http:\/\/');document.execCommand($(this).data('command'),false,url);}else
document.execCommand($(this).data('command'),false,null);});$(document).on('change','.toggle-editor',function(){$(this).closest('.textarea-html').find('textarea').closest('div').toggle();$(this).closest('.textarea-html').find('.editor').toggle();});$(document).on('blur keyup paste input change','.textarea-html .card-body',function(){$(this).closest('.textarea-html').find('textarea').val($(this).html());});$(document).on('change keyup paste','.textarea-html textarea',function(){$(this).closest('.textarea-html').find('.card-body').html($(this).val());});$(window).on('DOMContentLoaded load',function(){$('.textarea-html').each(function(){$(this).find('.editor').hide();});$(document).find('[data-encoding="base64"]').each(function(){$(this).val($(this).b64decode());$(this).trigger("change");});});var scrollWidget=function(e){var widget=e.closest('.scroll-widget-box');var left=e.position().left+widget.scrollLeft()-(widget.width()/2)+(e.outerWidth()/2);widget.animate({scrollLeft:left},'slow');};$(document).on('click','.scroll-widget-item',function(){scrollWidget($(this));dataShow(this);if($(this).is('[aria-controls]'))window.location.hash=$(this).attr('aria-controls');});$(document).on('change','.custom-file input[type="file"]:not([data-crop]):not([data-clone])',function(e){$this=$(this);$(this).siblings('.custom-file-list-new').html('');if(window.FileReader){for(var i=0;i<this.files.length;i++){var f=this.files[i];var fileReader=new FileReader();fileReader.name=f.name;fileReader.type=f.type;fileReader.onload=(function(g){$('<embed height="48" />').attr({'src':g.target.result,'type':g.target.type,'title':g.target.name}).appendTo($this.siblings('.custom-file-list-new'));});fileReader.readAsDataURL(f);}}else{var files=[];for(var i=0;i<this.files.length;i++){files.push(this.files[i].name);}
$(this).siblings('.custom-file-list-new').html(files.join(', '));}});$(document).on('keyup','input.userlogin',function(){var label=$('label[for="'+$(this).attr('id')+'"]');if(this.value.match(/^\+/)&&this.type!=='tel'&&this.dataset.type.includes('mobile'))$(this).attr('name','mobile').attr('type','tel').attr('inputmode','tel');else if(this.value.match(/@/)&&this.type!=='email'&&this.dataset.type.includes('email'))$(this).attr('name','email').attr('type','email').attr('inputmode','email');else if(this.value.match(/^(?!\+)/)&&this.value.match(/^((?!@).)*$/)&&this.type!=='text'&&this.dataset.type.includes('username'))$(this).attr('name','username').attr('type','text').attr('inputmode','text');});$(document).on('submit','form:not(.no-ajax), .ajax',function(e,data){var $this=$(this);if($this.is('form'))var $form=$this;else var $form=$this.closest('form');$(this).addClass('was-validated');$(this).find('input,textarea,select').filter('[required]:visible').each(function(){if(!this.validity.valid){e.preventDefault();$(this).focus();return false;}});if(!$form.find('.loading-overlay').length)$form.append('<div class="loading-overlay" style="position:fixed;"><progress class="loading-progress-bar"></progress></div>');try{$(this).find('.x-csrf-response,.g-recaptcha-response').each(function(){if(!$(this).val()){e.preventDefault();$(this).trigger('invalid',[$this]);throw new Error('Invalid');}});}
catch(e){$form.find('.loading-overlay').remove();$(this).removeClass('was-validated');return false;}
if(!e.isDefaultPrevented()){e.preventDefault();e.stopPropagation();$form.clearQueue();if($form.data('action')){if($form.data('action').startsWith('mailto:')){var data=[]
var body='';$(this).find("input, select, textarea").each(function(){if(['cc','bcc','subject','body','accept'].indexOf($(this).attr('name'))<0)
body+='\n'+$(this).val();else if($(this).attr('name')==='body')
body=$(this).val()+'\n'+body;else
data.push($(this).serialize());});data.push('body='+encodeURI(body));var emailWindow=window.open($form.data('action')+'?'+data.join('&'),'popUpWindow','height=200,width=200,left=0,top=0,,scrollbars=no,menubar=no');if(emailWindow.document){emailWindow.document.write('<html><head><title>Send Email</title></head><body><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm0 394c0 3.3-2.7 6-6 6H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h404c3.3 0 6 2.7 6 6v340zM356.5 194.6L295.1 256l61.4 61.4c4.6 4.6 4.6 12.1 0 16.8l-22.3 22.3c-4.6 4.6-12.1 4.6-16.8 0L256 295.1l-61.4 61.4c-4.6 4.6-12.1 4.6-16.8 0l-22.3-22.3c-4.6-4.6-4.6-12.1 0-16.8l61.4-61.4-61.4-61.4c-4.6-4.6-4.6-12.1 0-16.8l22.3-22.3c4.6-4.6 12.1-4.6 16.8 0l61.4 61.4 61.4-61.4c4.6-4.6 12.1-4.6 16.8 0l22.3 22.3c4.7 4.6 4.7 12.1 0 16.8z"/></svg></body></html>');}
return;}};var pb=$form.find('.progress-bar');if(pb)pb.attr('aria-valuenow',100).css('width','100%').html('100%');if(!$(this).find('input[name="nonce"]').length)$('<input>').attr({type:'hidden',name:'nonce',value:NONCE}).appendTo($(this));$form.find('.formStatus').html('<img src="/dist/img/loading.svg" alt="Loading..." width="48" height="48">');var readOnly=function(e){e.find("input, textarea").prop("readonly",function(i,val){return!val;});e.find("button, select, option").prop("disabled",function(i,val){return!val;});};var successHandler=function(result,status,xhr){if(result.message)$(this).find('.formStatus').html('<div class="alert alert-success fade show" role="alert"><strong>'+result.message+'</strong></div>');var toTag=result.toTag?$(result.toTag):$(this).parent();if(result.html){toTag.html(result.html);toTag.find('.textarea-html').each(function(){$(this).find('.editor').hide();});toTag.find('[data-encoding="base64"]').each(function(){$(this).val($(this).b64decode());$(this).trigger("change");});}
if(result.reset)$(this).trigger("reset");if(result.modal)$('.modal').modal(function(){$('#'+result.modal).modal()});if($(this).closest('#jsonModal.show').length&&result.success){$(this).closest('#jsonModal').modal('hide');if(result.reload)try{angular.element($this).scope().reload()}catch(e){window.location.reload()};return;}
if(result.location){$(this).closest('.active').removeAttr('active');window.location.href=result.location;return;}
if(result.reload)try{angular.element($this).scope().reload()}catch(e){window.location.reload()};};var errorHandler=function(xhr,status,error){try{var result=JSON.parse(xhr.responseText);if(result.message&&result.type)
notify(result.type,result.message,result.type,2000);$(this).find('.formStatus').html('<div class="alert alert-warning fade show" role="alert"><strong>'+result.message+'</strong></div>');if(result.name){for(var i in result.name){var z=$(this).find('#'+result.name);if(z)
z.addClass('is-invalid');}}}catch(e){$(this).find('.formStatus').html('<div class="alert alert-danger m-0" role="alert"><h4 class="alert-heading">Error</h4><p>There was an error in response. Please try again later.</p><hr><p class="mb-0">If you continue facing this error, kindly contact support.</p></div>');}};var xhrHandler=function(){var xhr=$.ajaxSettings.xhr();var lpb=$form.find('.loading-progress-bar');lpb.css({width:0});xhr.upload.onprogress=evt=>{lpb.css({width:(evt.loaded/evt.total)*100+'%'})};xhr.upload.onload=()=>{lpb.css({width:'0'})};xhr.onprogress=evt=>{lpb.css({width:(evt.loaded/evt.total)*100+'%'})};xhr.onload=()=>{lpb.css({width:'0'})};return xhr;};var beforeSendHandler=function(xhr){};var completeHandler=function(xhr,status){$(this).find('.g-recaptcha-response').val('');$(this).find('.x-csrf-response').val('');$(this).find('[data-encoding="base64"]').each(function(){$(this).val($(this).b64decode());});if(typeof angular!=='undefined')try{var ele=$form.find('.formStatus')[0];angular.element(ele).injector().invoke(['$compile',function($compile){var $scope=angular.element(ele).scope();$compile(ele)($scope);$scope.$apply();}]);}catch(e){};$form.find('.loading-overlay').remove();$(this).removeClass('was-validated');$form.trigger('ajaxComplete');};$(this).find('input[type=file][data-blob]:not([data-type="blob"])').each(function(){$(this).attr('type','text').attr('data-encoding','base64').val($(this).data('blob'));$(this).removeData('blob');});$(this).find('input[type=file][data-blob]').each(function(){$(this).attr('disabled',true);});$(this).find('input[type=file][data-size]').each(function(){var sizelimit=$(this).data('size'),sizetotal=0;if(sizelimit){for(var i=0;i<this.files.length;i++)sizetotal+=this.files[i].size;if(sizetotal>(sizelimit*1024)){$form.find('.formStatus').html('<div class="alert alert-warning fade show" role="alert"><strong>Upload limit reached.</strong></div>');this.value='';$(this).trigger("change");return;}}});$(this).find('[data-encoding="base64"]').each(function(){$(this).val($(this).b64encode());});$(this).find(':checkbox:not(:checked)').each(function(){this.value='off';});$(this).find(':checkbox:checked').each(function(){this.value='on';});var data;if($form.attr('enctype')==='multipart/form-data'){if($(this).is('form'))data=new FormData($(this)[0]);else{data=new FormData();$(this).find('input, textarea, select').each(function(key,val){data.append($(val).attr('name'),$(val).val())});}}
else data=$(this).serializeArray()
$(this).find(':checkbox:not(:checked)').each(function(key,val){if($form.attr('enctype')==='multipart/form-data')data.append($(val).attr('name'),'off');else data.push({name:$(this).attr('name'),value:'off'})});if($form.attr('enctype')!=='application/x-www-form-urlencoded'&&$form.attr('enctype')){$(this).find('input[type=file][data-blob]').each(function(){if($form.attr('enctype')==='multipart/form-data')data.append($(this).attr('name'),dataBlob($(this).data('blob')),$(this).data('filename'));else data.push({name:$(this).attr('name'),value:Object.assign({filename:$(this).data('filename')},dataBlobValue($(this).data('blob')))})
$(this).removeData('blob');});};if($form.attr('enctype')!=='multipart/form-data')data=data.filter(e=>{return e!=undefined&&e.name!=undefined});data=(function(){switch($form.attr('enctype')){case 'multipart/form-data':return data;case 'text/plain':return _html(_serializeJson(data));case 'application/json':return JSON.stringify(_serializeJson(data));case 'application/cbor':return CBOR.encode(_serializeJson(data));case 'application/xml':return $(_serializeJson(data)).toXML();case 'application/x-www-form-urlencoded':return data.map(o=>o.name+'='+encodeURIComponent(o.value)).join('&');default:return data.map(o=>o.name+'='+encodeURIComponent(o.value)).join('&');}})();$.ajax({url:$form.attr('action'),type:$form.attr('method'),data:data,cache:false,global:false,contentType:($form.attr('enctype')==='multipart/form-data')?false:$form.attr('enctype'),processData:($form.attr('enctype')==='multipart/form-data'||$form.attr('enctype')==='application/cbor')?false:true,dataType:"json",context:$form,xhr:xhrHandler,xhrFields:{withCredentials:true},beforeSend:beforeSendHandler,success:successHandler,error:errorHandler,complete:completeHandler,async:true,timeout:$form.data('timeout')||30000});}else{$form.find('.loading-overlay').remove();$(this).removeClass('was-validated');return false;}});var cropper;var imageCrop=function(r,d){$this=$(r);$this.closest('body').append('<div class="loading-overlay" id="imgCropOverlay" style="background-image:url(data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=);"></div>').addClass('overflow-hidden');d.onload=function(e){var image=new Image();image.src=e.target.result;image.onload=function(){$('#imgCropOverlay').html('<div class="d-block w-100"><a href="#" class="btn btn-danger btn-close" data-target="#'+$this.attr('id')+'">Cancel</a><a href="#" class="btn btn-info btn-rotate" data-target="#'+$this.attr('id')+'">Rotate</a><a href="#" class="btn btn-success btn-crop" data-target="#'+$this.attr('id')+'">Crop</a></div><div class="d-block w-100 h-100"><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" alt="Crop Image"></div>');var img=$('#imgCropOverlay img');img.attr('src',this.src);var isGIF=this.src.split(';',1)[0].endsWith('gif');if(isGIF){$this.attr('data-blob',this.src);if($this.attr('data-preview'))$('<embed style="width:100%;height:auto;" />').attr({'src':this.src,'type':'image/gif'}).appendTo($this.siblings('.custom-file-list-new').empty());else $('<embed height="48" />').attr({'src':this.src,'type':'image/gif'}).appendTo($this.siblings('.custom-file-list-new').empty());$('#imgCropOverlay').remove();$('body').removeClass('overflow-hidden');$this.trigger('crop');}else{var wH=window.innerHeight;var wW=window.innerWidth;if(this.width>wW){img.attr('width',Math.min(this.width,Math.floor(wW/1.25)));img.attr('height',Math.floor(img.width()*(this.height/this.width)));}
if(img.height()>wH){img.attr('height',Math.min(img.height(),Math.floor(wH/1.25)));img.attr('width',Math.floor(img.height()*(this.width/this.height)));}
cropper=img.croppie({viewport:{width:($this.data('resize'))?img.width():$this.data('width')||300,height:($this.data('resize'))?img.height():$this.data('height')||300,type:$this.data('crop')||'square'},enableResize:$this.data('resize')||false,showZoomer:$this.data('zoom')||true,enableOrientation:!isGIF});}};};};$(document).on('change','input[type=file][data-crop]:not([multiple])',function(){let reader=new FileReader();reader.readAsDataURL(this.files[0]);imageCrop(this,reader);});$(document).on('crop','input[type=file][data-blob]',function(){if($(this).data('required')){$($(this).data('required')).each(function(){$(this).attr('required',true);});}});$(document).on('crop','input[type=file][data-blob][data-decode=qr]',function(){$this=$(this);qrcode.callback=function(res){if(res instanceof Error)notify('Error QR','Invalid QR Code.');else $($this.data("target")).val(res);};qrcode.decode($this.attr('data-blob'));});$(document).on('change','input[type=file][data-clone][multiple]',function(){var $this=this;var controlForm=$($(this).data('clone'));var currentEntry=controlForm.find('.this-clone');if(!controlForm.data('id'))controlForm.data('id',0);if(!controlForm.data('max'))controlForm.data('max',50);if(($this.files.length+1)>=controlForm.data('max')){notify('Bulk upload limit','Please select less then '+controlForm.data('max')+' files.','error');this.value='';return;}
var reader=new FileReader();reader.readAsDataURL(this.files[0]);imageCrop(currentEntry.find('input[type=file]')[0],reader);var i=controlForm.find('clone').length;var multiCropClone=function(){++i;controlForm.data().id++;var newEntry=addClone(currentEntry,controlForm.data('id'));var reader=new FileReader();reader.readAsDataURL($this.files[i]);controlForm.append(newEntry);imageCrop(newEntry.find('input[type=file]')[0],reader);if(i<$this.files.length-1){newEntry.on('crop',function(){multiCropClone();});newEntry.on('close',function(){$(this).closest('.clone').remove();multiCropClone();});}
else{newEntry.on('close',function(){$(this).closest('.clone').remove();});$($this).closest('.form-group').remove();}};if($this.files.length>1){currentEntry.find('input[type=file]').on('crop',function(){multiCropClone();});};});$(document).on('click','#imgCropOverlay .btn-crop',function(e){e.preventDefault();var $this=$($(this).data('target'));if(!$this.data('format'))$this.attr('data-format','webp');var _size=($this.data('resize'))?($this.data('width'))?{width:$this.data('width')}:($this.data('height'))?{height:$this.data('height')}:'original':($this.data('width')&&$this.data('height'))?{width:$this.data('width'),height:$this.data('height')}:'original';cropper.croppie('result',{type:'base64',size:_size,format:$this.data('format'),quality:0.8}).then(function(resp){$this.attr('data-blob',resp);$this.val('');if($this.attr('data-preview'))$('<embed style="width:100%;height:auto;" />').attr({'src':resp,'type':'image/'+$this.data('format')}).appendTo($this.siblings('.custom-file-list-new').empty());else $('<embed height="48" />').attr({'src':resp,'type':'image/'+$this.data('format')}).appendTo($this.siblings('.custom-file-list-new').empty());$('#imgCropOverlay').remove();$('body').removeClass('overflow-hidden')
$this.trigger('crop');});});$(document).on('click','#imgCropOverlay .btn-close',function(e){e.preventDefault();$($(this).data('target')).val('');$('#imgCropOverlay').remove();$('body').removeClass('overflow-hidden')
$($(this).data('target')).trigger('close');});$(document).on('click','#imgCropOverlay .btn-rotate',function(e){e.preventDefault();cropper.croppie('rotate',90);cropper.croppie('refresh');});$(document).on('change','#imgCropOverlay .switch-animated',function(e){cropper.croppie('refresh');});$(document).on('click','.form-file-remove a',function(e){e.preventDefault();if($(this).attr('data-action')=='remove'){$(this).closest('.form-file-remove').remove();if($(this).data('crop'))$($(this).attr('data-crop')).removeAttr('data-blob').removeData('blob');}});$(document).on('click','.nav.nav-tabs .nav-link',function(){$(this).closest('.nav.nav-tabs').find('.nav-link.active').removeClass("active");$(this).addClass("active");});$(document).on('click','.bulk-select-all',function(e){$("input[type=checkbox].bulk-select").prop('checked',$(this).prop('checked'));});$(document).on('click','.bulk-select',function(e){var bulkSelect=$("input[type=checkbox].bulk-select");var bulkSelectAll=$("input[type=checkbox].bulk-select-all");if(bulkSelect.filter(":checked").length==bulkSelect.length)bulkSelectAll.prop("checked",true).prop("indeterminate",false);else if(bulkSelect.not(':checked').length==bulkSelect.length)bulkSelectAll.prop("checked",false).prop("indeterminate",false);else bulkSelectAll.prop("indeterminate",true);});$(document).on('change','.filter-data-switch',function(e){var value=($(this).attr('data-filter')||'').split(','),target=$($(this).attr('data-target'));var filters=target.data('filter')||[];if($(this).is(':checked')&&!value.every(v=>(filters.indexOf(v)>-1)))filters.push.apply(filters,value);else filters=filters.filter(function(e){return!(value.indexOf(e)>-1)});if(filters.length>0){target.find('.filter-item').filter(function(index){e=($(this).attr('data-filter')||'').split(',');return!filters.every(v=>(e.indexOf(v)>-1));}).toggle(false);target.find('.filter-item').filter(function(index){e=($(this).attr('data-filter')||'').split(',');return filters.every(v=>(e.indexOf(v))>-1);}).toggle(true);}
else target.find('.filter-item').toggle(true);target.data('filter',filters);})
$(document).on('click','.filter-data:not(".active")',function(e){var value=($(this).attr('data-filter')||'').split(','),target=$($(this).attr('data-target')),active=$(this).closest('.filter').find('.filter-data.active');var filters=target.data('filter')||[];value=value.filter(function(e){return e!='all'});filters=filters.filter(function(e){return!((active.attr('data-filter')||'').split(',').indexOf(e)>-1)});active.removeClass("active");filters.push.apply(filters,value);if(filters.length>0){target.find('.filter-item').filter(function(index){e=($(this).attr('data-filter')||'').split(',');return!filters.every(v=>(e.indexOf(v)>-1));}).toggle(false);target.find('.filter-item').filter(function(index){e=($(this).attr('data-filter')||'').split(',');return filters.every(v=>(e.indexOf(v))>-1);}).toggle(true);}
else target.find('.filter-item').toggle(true);$(window).trigger('onview');$(this).addClass("active");target.data('filter',filters);});$(document).on('show.bs.modal','.modal',function(e){if(e.relatedTarget){if(e.relatedTarget.href.indexOf('#')<0){if($(e.relatedTarget).data("type")=='image'){$(this).find('.modal-body').html($('<img class="img-thumbnail img-fluid w-100"/>').attr({'src':e.relatedTarget.href,'alt':e.relatedTarget.title}));}else{$(this).find('.modal-body').html('<div class="loading-overlay"><progress class="loading-progress-bar"></progress></div>');var data=['nonce='+NONCE,];$($(e.relatedTarget).data('source')).each(function(){if($(this).is(':checkbox:not(:checked)'))data.push($(this).attr('name')+'=off');else if($(this).val()=='')data.push($(this).attr('name'));else data.push($(this).serialize());});$(this).find('.modal-body').load(e.relatedTarget.href,encodeURI(data.join('&')),function(response,status,xhr){if(status=="error")
$('.modal.show').find('.modal-body').html('<div class="alert alert-danger m-0" role="alert"><h4 class="alert-heading">Error</h4><p>There was error getting content from server. Please try again later.</p><hr><p class="mb-0">If you continue facing this error, kindly contact support.</p></div>');else{$('.textarea-html').each(function(){$(this).find('.editor').hide();});$(document).find('[data-encoding="base64"]').each(function(){$(this).val($(this).b64decode());$(this).trigger("change");});$(window).trigger("load");}});}}else{if($(e.relatedTarget).hasClass('hash'))window.location.hash=$(e.relatedTarget).data('target');}}});$(document).on('hidden.bs.modal','.modal',function(e){$(this).find('form').trigger("reset");if('#'+this.id===window.location.hash)history.pushState("",document.title,window.location.pathname+window.location.search);$('body').removeClass('overflow-hidden');});$(document).on('click',"[data-toggle='collapse']",function(){$(this).find('.mdi.mdi-plus,.mdi.mdi-minus').toggleClass('mdi-plus mdi-minus');});$(document).on('click',"[data-toggle='menu']",function(e){e.preventDefault();$($(this).data('target')).toggleClass("active");});$(document).on('click',"[data-toggle='offcanvas']",function(e){e.preventDefault();$($(this).data('target')).toggleClass("active");$($(this).data('target')).find('.offcanvas-body').trigger('inview');if($($(this).data('target')).is(".active")&&!$(this).hasClass('scroll')){$('body').addClass('overflow-hidden');window.location.hash=$(this).data('target');if($(this).attr('href').indexOf('#')<0){$($(this).data('target')).find('.offcanvas-body').html('<div class="loading-overlay"><progress class="loading-progress-bar"></progress></div>');$($(this).data('target')).find('.offcanvas-body').load($(this).attr('href'),'nonce='+NONCE,function(){$(this).find('.textarea-html').each(function(){$(this).find('.editor').hide();});$(this).find('[data-encoding="base64"]').each(function(){$(this).val($(this).b64decode());$(this).trigger("change");});});}}else{$('body').removeClass('overflow-hidden');history.pushState(null,null,' ');}});$(document).on('click',".password-toggle[data-toggle]",function(e){$(this).toggleClass("mdi-eye mdi-eye-off");var input=$($(this).data("toggle"));if(input.attr("type")=="password")input.attr("type","text");else input.attr("type","password");});$(document).on('click',".click-to-copy",function(e){$(this).fadeOut(function(){var input=$("<input>");$("body").append(input);input.val($(this).data("copy")).select();document.execCommand("copy");input.remove();$(this).text("Copied");}).fadeIn();});$('#sidemenu li:not(".collapsed")').click(function(){$("#sidemenu").removeClass("active");$(".menu-toggle").removeClass("active");$(".menu-toggle > .mdi-menu, .menu-toggle > .mdi-close").toggleClass("mdi-menu mdi-close");});$('a.scroll[href*="#"]:not([href$="#"])').click(function(){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){var target=$(this.hash);target=target.length?target:$('[name='+this.hash.slice(1)+']');if(target.length){$('html, body').animate({scrollTop:target.offset().top},{duration:1000,step:function(x,y){if(y.end!==target.offset().top)y.end=target.offset().top;}},"easeInOutExpo");}
$('body').removeClass('overflow-hidden');}});var lastScroll=0;$(document).on('scroll',function(){var curScroll=$(this).scrollTop();if(lastScroll>curScroll&&curScroll>300)$('.go-top:hidden').fadeIn();else $('.go-top:visible').fadeOut();lastScroll=curScroll;});$('.go-top').on('click',function(e){e.preventDefault();$('html, body').animate({scrollTop:0},1000,"easeInOutExpo");return false;});$(".go-back").on('click',function(e){e.preventDefault();window.history.back();return false;});$(".sidebar-toggle").on('click',function(e){e.preventDefault();$("#sidebar").toggleClass("toggled");return false;});$(document).on('click','a[data-trigger="click"]',function(e){e.preventDefault();$(this.hash).trigger("click");});$(function(){$('[data-toggle="tooltip"]').tooltip();});$(document).on('click','.translate',function(e){e.preventDefault();e.stopPropagation();var s=$($(this).data('source'));var t=$($(this).data('target'));var beforeSendHandler=function(xhr){$(this).parent().append('<div class="loading-overlay"><progress class="loading-progress-bar"></progress></div>');};var completeHandler=function(xhr,status){$(this).parent().find('.loading-overlay').remove();};var successHandler=function(result,status,xhr){var tt;for(var i=0;i<result[0].length;i++)
tt+=result[0][i][0]+" ";t.val(tt);};$.ajax({type:"post",url:$(this).attr('href')+"sl="+s.attr('lang')+"&tl="+t.attr('lang'),data:{'q':s.val()},dataType:"json",enctype:"application/x-www-form-urlencoded",contentType:"application/x-www-form-urlencoded",processData:true,context:$(this),beforeSend:beforeSendHandler,complete:completeHandler,success:successHandler,});});var addClone=function(r,d){var newEntry=r.clone();var clonedataid=function(x){return x.split(',').map(function(z){return z+d;}).join(',');}
var clonename=function(x){return x.replace('[0]','['+d+']');}
newEntry.find('.nav-tabs .nav-item .nav-link,.tab-content .tab-pane').each(function(){if($(this).prop('id'))$(this).prop('id',$(this).prop('id')+d)
if($(this).attr('href'))$(this).attr('href',$(this).attr('href')+d)
if($(this).attr('aria-labelledby'))$(this).attr('aria-labelledby',$(this).attr('aria-labelledby')+d)
if($(this).attr('aria-controls'))$(this).attr('aria-controls',$(this).attr('aria-controls')+d)});newEntry.find('input,select,textarea').each(function(){$(this).val('').prop('id',$(this).prop('id')+d);$(this).prop('name',clonename($(this).prop('name')));$(this).siblings('label').prop('for',$(this).prop('id'));$(this).siblings().each(function(){if($(this).prop('id'))$(this).prop('id',$(this).prop('id')+d)});if($(this).attr('aria-describedby'))$(this).attr('aria-describedby',$(this).attr('aria-describedby')+d);if($(this).data('required'))$(this).attr('data-required',clonedataid($(this).data('required'))).data('required',clonedataid($(this).data('required')));if($(this).data('source'))$(this).attr('data-source',clonedataid($(this).data('source'))).data('source',clonedataid($(this).data('source')));if($(this).data('show'))$(this).attr('data-show',clonedataid($(this).data('show'))).data('show',clonedataid($(this).data('show')));if($(this).data('target'))$(this).attr('data-target',clonedataid($(this).data('target'))).data('target',clonedataid($(this).data('target')));if($(this).data('blob'))$(this).removeAttr('data-blob').removeData('blob');});newEntry.removeClass('this-clone').addClass('clone');newEntry.find('.add-clone:last').removeClass('add-clone').addClass('remove-clone').removeClass('text-success').addClass('text-danger').html('<i class="mdi mdi-minus"></i>');newEntry.find('.custom-file-list').empty();newEntry.find('.custom-file-list-new').empty();return newEntry;}
$(document).on('click','.add-clone',function(e){e.preventDefault();$this=$(this);var controlForm=$(e.target).closest('.multiple'),currentEntry=$(e.target).closest('.this-clone');if(!controlForm.data('id'))controlForm.data('id',0);if(!controlForm.data('max'))controlForm.data('max',50);if((controlForm.find('.clone').length+1)>=controlForm.data('max'))return;else{controlForm.data().id++;controlForm.append(addClone(currentEntry,controlForm.data('id')));}});$(document).on('click','.remove-clone',function(e){e.preventDefault();$(e.target).closest('.clone').remove();});var reboot=function(r,d){d=d||3000;r=typeof r!=='undefined'?r:10;$.ajax({type:'GET',url:'/status'}).fail(function(){r>0&&setTimeout(function(){reboot(--r);},d);}).done(function(){window.location.reload();});};$(document).on('click','.onClick',function(e){e.preventDefault();e.stopPropagation();var xhrHandler=function(){var xhr=$.ajaxSettings.xhr();var lpb=$(this).parent().find('.loading-progress-bar');lpb.css({width:0});xhr.upload.onprogress=evt=>{lpb.css({width:(evt.loaded/evt.total)*100+'%'})};xhr.upload.onload=()=>{lpb.css({width:'0'})};xhr.onprogress=evt=>{lpb.css({width:(evt.loaded/evt.total)*100+'%'})};xhr.onload=()=>{lpb.css({width:'0'})};return xhr;};var beforeSendHandler=function(xhr){$(this).parent().append('<div class="loading-overlay"><progress class="loading-progress-bar"></progress></div>');if($(this).data('reset'))
$($(this).data('reset')).val('');};var completeHandler=function(xhr,status){$(this).parent().find('.loading-overlay').remove();if($(this).data('action')=='remove')$(this).remove();};var successHandler=function(result,status,xhr){if(!result.type)
result.type=(result.success)?'success':'error';if(result.message&&result.type)
notify(result.type,result.message,result.type,2000);if(result.reboot){$('body').append('<div id="loading"><progress class="loading-progress-bar"></progress><div class="fixed loading-overlay"></div></div>');reboot()}
if(result.modal)$('#'+result.modal).modal();var toTag=result.toTag?$(result.toTag):$($(this).data('target'))||$(this).parent();if(result.html)toTag.html(result.html);if(result.location)window.location.href=result.location;if(result.reload)try{angular.element($this).scope().reload()}catch(e){window.location.reload()}};var errorHandler=function(xhr,status,error){$(this).find('.formStatus').html('<div class="alert alert-danger m-0" role="alert"><h4 class="alert-heading">Error</h4><p>There was an error in response. Please try again later.</p><hr><p class="mb-0">If you continue facing this error, kindly contact support.</p></div>');};if($(this).data('required')){$($(this).data('required')).each(function(){$(this).attr('required',true);});}
var url=$(this).data('target-url')||$(this).attr('href');if(!url||url=='#')url='';else if(url.includes('?')){if(!url.endsWith('&'))url+='&';}
else url+='?';if($(this).is(':checkbox:not(:checked)'))$(this).val('off');if($(this).is(':checkbox:checked'))$(this).val('on');var data=['nonce='+NONCE];$(this).add($(this).data('source')).each(function(){if($(this).is(':checkbox:not(:checked)'))
data.push($(this).attr('name')+'=off');else if($(this).val()=='')
data.push($(this).attr('name'));else if(this.validity){if(!this.validity.valid){$(this).focus();return false;}
data.push($(this).serialize());}else
data.push($(this).serialize());});data=data.filter(function(e){return e})
if(url)
$.ajax({url:url+encodeURI(data.join('&')),dataType:"json",context:$(this),xhr:xhrHandler,xhrFields:{withCredentials:true},beforeSend:beforeSendHandler,complete:completeHandler,success:successHandler,error:successHandler});if($(this).data('source-url'))
$.ajax({url:$(this).data('source-url')+encodeURI(data.join('&')),dataType:"json",context:$(this),xhr:xhrHandler,xhrFields:{withCredentials:true},beforeSend:beforeSendHandler,complete:completeHandler,success:successHandler,error:errorHandler});if($(this).data('change')){$($(this).data('change')).each(function(){$(this).trigger('change');});}
if($(this).data('reload'))try{angular.element($this).scope().reload()}catch(e){window.location.reload()};});$(document).on('change','.onChange:not(.no-ajax)',function(e){var xhrHandler=function(){var xhr=$.ajaxSettings.xhr();var lpb=$(this).parent().find('.loading-progress-bar');lpb.css({width:0});xhr.upload.onprogress=evt=>{lpb.css({width:(evt.loaded/evt.total)*100+'%'})};xhr.upload.onload=()=>{lpb.css({width:'0'})};xhr.onprogress=evt=>{lpb.css({width:(evt.loaded/evt.total)*100+'%'})};xhr.onload=()=>{lpb.css({width:'0'})};return xhr;};var beforeSendHandler=function(xhr){$(this).parent().append('<div class="loading-overlay"><progress class="loading-progress-bar"></progress></div>');if($(this).data('reset'))
$($(this).data('reset')).val('');};var completeHandler=function(xhr,status){if(typeof $.fn.selectpicker!=='undefined')$($(this).data('target')+'.selectpicker').selectpicker('refresh');$(this).parent().find('.loading-overlay').remove();if($(this).data('action')=='remove')$(this).remove();};var successHandler=function(result,status,xhr){if(!result.type)
result.type=(!result.error)?'success':'error';if(result.error){if($(this).is(':checkbox:not(:checked)'))$(this).prop('checked',true);else if($(this).is(':checkbox:checked'))$(this).prop('checked',false);else $(this).val()=='';}
if(result.message&&result.type)
notify(result.type,result.message,result.type,2000);if(result.modal)
$('#'+result.modal).modal();var toTag=result.toTag?$(result.toTag):$($(this).data('target'))||$(this).parent();if(result.html&&toTag){if(toTag.is(':text')&&toTag.prop('list'))$('#'+toTag.attr('list')).html(result.html);else toTag.html(result.html);};if(result.location)window.location.href=result.location;if(result.reload)try{angular.element(this).scope().reload()}catch(e){window.location.reload()};};var errorHandler=function(xhr,status,error){if($(this).is(':checkbox:not(:checked)'))$(this).prop('checked',true);else if($(this).is(':checkbox:checked'))$(this).prop('checked',false);else $(this).val()=='';return false;};dataShow(this);if($(this).data('required')){$($(this).data('required')).each(function(){$(this).attr('required',true);});}
var data=['nonce='+NONCE];$(this).add($(this).data('source')).each(function(){if($(this).is(':checkbox:not(:checked)'))
data.push(escape($(this).attr('name'))+'=off');else if($(this).is(':checkbox:checked'))
data.push(escape($(this).attr('name'))+'=on');else if($(this).val()=='')
data.push(escape($(this).attr('name')));else if(this.validity){if(!this.validity.valid){$(this).focus();return false;}
data.push($(this).serialize());}else data.push($(this).serialize());});data=data.filter(function(e){return e})
var formdata=false;if($(this).attr('type')==='file'){formdata=new FormData();for(let i=0;i<this.files.length;i++){formdata.append($(this).attr('name'),this.files[i]);}}
var url=$(this).data('target-url')||$(this).attr('formaction');if(!url)url='';else if(url.includes('?')&&!url.endsWith('&'))url+='&';else url+='?';if($(this).is(':valid')&&url)
$.ajax({url:url+encodeURI(data.join('&')),cache:false,global:false,type:($(this).attr('formenctype')==='multipart/form-data'||formdata)?'post':$(this).attr('formmethod')||'get',enctype:(formdata)?'multipart/form-data':$(this).attr('formenctype')||'application/x-www-form-urlencoded',contentType:($(this).attr('formenctype')==='multipart/form-data'||formdata)?false:$(this).attr('formenctype'),processData:($(this).attr('formenctype')==='multipart/form-data'||formdata)?false:true,data:formdata,dataType:$(this).attr('data-type')||"json",context:$(this),xhr:xhrHandler,xhrFields:{withCredentials:true},beforeSend:beforeSendHandler,complete:completeHandler,success:successHandler,error:successHandler});if($(this).data('source-url'))
$.ajax({url:$(this).data('source-url'),cache:false,global:false,type:($(this).attr('formenctype')==='multipart/form-data')?'post':$(this).attr('formmethod')||'get',enctype:$(this).attr('formenctype')||'application/x-www-form-urlencoded',contentType:($(this).attr('formenctype')==='multipart/form-data')?false:$(this).attr('formenctype'),processData:($(this).attr('formenctype')==='multipart/form-data')?false:true,data:encodeURI(data.join('&')),dataType:$(this).attr('data-type')||"json",context:$(this),xhr:xhrHandler,xhrFields:{withCredentials:true},beforeSend:beforeSendHandler,complete:completeHandler,success:successHandler,error:errorHandler});if($(this).data('change')){$($(this).data('change')).each(function(){$(this).trigger('change');});}
if($(this).data('reload'))try{angular.element($this).scope().reload()}catch(e){window.location.reload()};});var dataShow=function(e){if($(e).data('show')||$(e).data('hide')){if($(e).is("[attribute='value']")||$(e).is(':checkbox:checked')||$(e).is('.active')){$($(e).data('show')).each(function(){$(this).prop("disabled",false).prop("hidden",false);$(this).parent(':hidden').attr("data-hide",false).show();});$($(e).data('hide')).each(function(){$(this).prop("disabled",true).prop("hidden",true);$(this).removeAttr('value').prop("checked",false);$(this).parent(':hidden').data('hide',true).attr("data-hide",true).hide();});}else{$($(e).data('show')).each(function(){$(this).prop("disabled",true).prop("hidden",true);$(this).removeAttr('value').prop("checked",false);$(this).parent('[data-hide]').attr("data-hide",true).hide();});$($(e).data('hide')).each(function(){$(this).prop("disabled",false).prop("hidden",false);$(this).parent(':hidden').data('hide',false).attr("data-hide",false).show();});}}};var enableWebP=true;(function(){$("<img>").on("load",function(){if(this.width===0&&this.height===0)enableWebP=false;}).on("error",function(){enableWebP=false;}).attr("src","data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA");})();function notify(title,message,type,timeout){timeout=timeout||5000;type=type||'success';var icon=(type==='success')?'<i class="mdi mdi-check-circle text-success mr-1" aria-hidden="true"></i>':'<i class="mdi mdi-close-circle text-danger mr-1" aria-hidden="true"></i>';var notification='<div class="toast" role="alert" aria-live="assertive" aria-atomic="true"><div class="toast-header">'+icon+' <strong class="mr-auto">'+titlecase(title)+'</strong><small class="text-muted">just now</small></div><div class="toast-body">'+message+'</div></div>';$(notification).hide().prependTo('#notification-bar').slideDown().delay(timeout).fadeOut('slow',function(){$(this).remove()});}
$('.carousel').on('slid.bs.carousel',function(e){$(this).trigger('onview');$(this).find("[data-animation^='animated']").each(function(){var $this=$(this),_=$this.data("animation");$this.addClass(_).one("webkitAnimationEnd animationend",function(){$this.removeClass(_);});});});$(window).on('hashchange',function(e){if(window.location.hash){var target=$(window.location.hash.replace('#!#','#'));$('.hash.active').not(target).removeClass('active');if($('.modal.show')!==target)$('.modal.show').modal('hide');if(target.length&&target.not('.active')&&target.hasClass('hash')&&target.not('.scroll')){if(target.is('.modal'))target.modal('show');else if(target.is('.tab-pane'))$("a[aria-controls='"+window.location.hash.replace('#!#','').replace('#','')+"']").trigger('click');else target.addClass("active");if(target.find('.offcanvas-body'))$('body').addClass('overflow-hidden');}
target.find('.inView').each(function(){$(this).trigger('inview');});}else{if($('.modal.show').length)$('.modal.show').modal('hide');else if($('.tab-pane.show').length)$('.tab-pane.show').tab('hide');}});$(document).on('focus','input[data-source-url][autocomplete=on]',function(){$this=$(this);var cache={};$this.autocomplete({minLength:2,open:function(){$(this).autocomplete('widget').css('z-index',9999);return false;},source:function(request,response){var term=request.term;if(term in cache){if(cache[term].constructor==Array)response(cache[term]);else if(cache[term].constructor==Object)response(Object.keys(cache[term]).map((key)=>({'value':key,'label':cache[term][key]})));return;}
$.ajax({url:$this.attr("data-source-url"),dataType:"jsonp",data:{nonce:NONCE,startwith:request.term},success:function(data){cache[term]=data;if(data.constructor==Array)response(data);else if(data.constructor==Object)response(Object.keys(data).map((key)=>({'value':key,'label':data[key]})));else return;}});}});$this.attr('autocomplete','off');});$(document).on('inview','.inView',function(){var $this=$(this);if($this.is("[data-src]")){var _newsrc=(enableWebP)?$this.attr("data-src"):$this.attr("data-src").replace(".webp",".jpg");$this.attr("src",_newsrc);$this.removeAttr("data-src").removeData('src');}
if($this.is("img[data-source]")){var _newsrc=(enableWebP)?$this.attr("data-source"):$this.attr("data-source").replace(".webp",".jpg");$this.attr("src",_newsrc);$this.removeAttr("data-source").removeData('source');}
if($this.is("[data-background]")){var _newsrc=(enableWebP)?$this.attr("data-background"):$this.attr("data-background").replace(".webp",".jpg");$this.css('background-image','url('+_newsrc+')');$this.removeAttr("data-background").removeData('background');}
if($this.is("input[data-source-url]")){var cache={};$target=($this.data("target"))?$($this.data("target")):$this;$target.autocomplete({minLength:2,open:function(){$(this).autocomplete('widget').css('z-index',9999);return false;},source:function(request,response){var term=request.term;if(term in cache){if(cache[term].constructor==Array)response(cache[term]);else if(cache[term].constructor==Object)response(Object.keys(cache[term]).map((key)=>({'value':key,'label':cache[term][key]})));return;}
$.ajax({url:$this.attr("data-source-url"),dataType:"jsonp",data:{nonce:NONCE,startwith:request.term},success:function(data){cache[term]=data;if(data.constructor==Array)response(data);else if(data.constructor==Object)response(Object.keys(data).map((key)=>({'value':key,'label':data[key]})));else return;}});}});}
if($this.is("select[data-source-url]")){$this.parent().append('<div class="loading-overlay"><progress class="loading-progress-bar"></progress></div>');$target=($this.data("target"))?$($this.data("target")):$this;if($target!==$this)$target.parent().append('<div class="loading-overlay"><progress class="loading-progress-bar"></progress></div>');var data=['nonce='+NONCE];var val=$target.children("option:selected").val();$this.add($target).add($this.data('source')).each(function(){if($(this).is(':checkbox:not(:checked)'))
data.push(escape($(this).attr('name'))+'=off');else if($(this).is(':checkbox:checked'))
data.push(escape($(this).attr('name'))+'=on');else if($(this).val()=='')
data.push(escape($(this).attr('name')));else if(this.validity){if(!this.validity.valid){$(this).focus();return false;}
data.push($(this).serialize());}else data.push($(this).serialize());});$target.load($this.data("source-url"),encodeURI(data.join('&')),function(){$target.val(val);if(typeof $.fn.selectpicker!=='undefined')if($target.is('.selectpicker'))$target.selectpicker('refresh');$this.parent().find('.loading-overlay').remove();if($target!==$this)$target.parent().find('.loading-overlay').remove();});}
if($this.is("div[data-source]")){$this.load($this.data("source"),'nonce='+NONCE,function(){$(this).find('.textarea-html').each(function(){$(this).find('.editor').hide();});$(this).find('[data-encoding="base64"]').each(function(){$(this).val($(this).b64decode());$(this).trigger("change");});});$this.removeAttr("data-source").removeData('source');}
if($this.is(".counter[data-count]")){$({_:0}).animate({_:$this.data('count')},{duration:($this.data('count-duration')||1000),easing:'linear',step:function(){$this.text(Math.floor(this._).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,'$1,'));},complete:function(){$this.text(this._.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,'$1,'));$this.removeAttr('data-count').removeData('count');}});}
if($this.is("[data-animation^='animated']")){var _=$this.data("animation");$this.addClass(_).one("webkitAnimationEnd animationend",function(){$this.removeClass(_);$this.removeAttr('data-animation').removeData('animation');});}
if($this.data('show')){dataShow(this);}
$this.removeClass('inView');});$(window).on('DOMContentLoaded readystatechange load ready resize scroll hashchange selectionchange change click blur focus toggle show onview',function(){$('.inView').each(function(){if($(this).inView()&&$(this).is(":visible"))$(this).trigger('inview');});});$(document).on('shown.bs.tab','[role="tab"]',function(e){$(window).trigger('onview');});$(document).on('shown.bs.modal','.modal',function(e){$(window).trigger('onview');});$(document).ready(function(){$('body').removeClass('skeleton');var qry=['utm_source','utm_medium','utm_campaign','utm_content','utm_term'],url=new URL(window.location.href);if(qry.some(o=>url.searchParams.get(o))){qry.forEach(o=>url.searchParams.delete(o));window.history.replaceState({},document.title,url.href);}
if(!enableWebP){$('[data-src]').each(function(){$(this).data('src',$(this).data('src').replace(".webp",".jpg")).attr('data-src',$(this).attr('data-src').replace(".webp",".jpg"))});$('[data-source]').each(function(){$(this).data('source',$(this).data('source').replace(".webp",".jpg")).attr('data-source',$(this).attr('data-source').replace(".webp",".jpg"))});$('img[src]').each(function(){$(this).attr('src',$(this).attr('src').replace(".webp",".jpg"))});$('*').filter(function(){if(this.currentStyle)return this.currentStyle['backgroundImage']!=='none';else if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(this,null).getPropertyValue('background-image')!=='none';}).css('background-image',$(this).css('background-image').replace(".webp",".jpg"));};beacon();});$(window).on("load",function(){$('#loading').remove();if(window.location.hash)$(this).trigger('hashchange');$('body').scrollspy({target:'.scrollspy',offset:56});});$(document).on('click','.settingAppendOption',function(){var e=prompt("Option");if(e)
$($(this).data('target')).append($("<option></option>").attr("value",e).text(e));});$(document).on('click','.settingAppend',function(){var $parent=$(this).closest('form');if(!$parent[0].checkValidity()){$parent.find(".submitcheck").click();}else{var data=$parent.toJSON();var sourceId='#setting'+(titlecase((data._module).replace('.',' '))).replace(' ','');sourceId+=(data.module)?titlecase(data.module):'';sourceId+=(data.func)?titlecase(data.func):'';var value=(data._func)?data[data._func]:JSON.stringify(data);$(sourceId).append($("<option></option>").attr("value",value).text(value));$parent.trigger("reset");}});reCAPTCHA=function(evt,obj){var e=$(this);var $parent=e.closest('form');if(typeof grecaptcha==='undefined'||grecaptcha===null){e.remove();if((obj||$parent)[0].checkValidity())(obj||$parent).trigger('submit');}else{grecaptcha.execute(reCAPTCHA_site_key,{action:e.data('action')||'default'}).then(function(token){e.val(token);if((obj||$parent)[0].checkValidity())(obj||$parent).trigger('submit');}).catch(function(err){$parent.find('.formStatus').html('Invalid reCAPTCHA request.');});};}
$(document).on('invalid','.g-recaptcha-response',reCAPTCHA);doCSRF=function(evt,obj){var e=$(this);var $parent=e.closest('form');$.ajax({url:'/csrf',type:'post',dataType:"json",xhrFields:{withCredentials:true},data:{nonce:NONCE,endpoint:$parent.prop('action'),csrf:e.val()},success:function(data){if((obj||$parent)[0].checkValidity()&&data.token)e.val(data.token)&&(obj||$parent).trigger('submit');else $parent.find('.formStatus').html(data.message);},error:function(data){$parent.find('.formStatus').html('Invalid CSRF request.');}});}
$(document).on('invalid','.x-csrf-response',doCSRF);$(document).find(".timeago").each(function(){if($(this).data("datetime")){$(this).text(_timeago(moment().diff(moment($(this).data("datetime")),"seconds")));}});$(document).find('.progress-bar').each(function(){if($(this).attr("aria-valuenow")){$(this).css('width',(100/$(this).attr('aria-valuemax'))*$(this).attr('aria-valuenow')+'%');$(this).text((100/$(this).attr('aria-valuemax'))*$(this).attr('aria-valuenow')+'%');}});$('#cookiealert').on('closed.bs.alert',function(){var d=new Date();d.setTime(d.getTime()+(518400*60*1000));document.cookie="acceptCookiesConsent=true; expires="+d.toUTCString()+"; path=/; Secure; SameSite=Strict";});$(document).on('scroll',function(){$('[data-scroll]').each(function(){if($(document).scrollTop()>$(this).data('scroll')&&$(this).is(':hidden'))$(this).show();else if($(document).scrollTop()<$(this).data('scroll')&&$(this).is(':visible'))$(this).hide();});});})(jQuery);